<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>AllegroGL: Allegro Interfacing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="alleggl.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AllegroGL
   &#160;<span id="projectnumber">0.4.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Allegro Interfacing</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Allegro Interfacing routines</h2></td></tr>
<tr class="memitem:ga7ea7ffd9b72d0d0722cbf982b729efdb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__allegro.html#ga7ea7ffd9b72d0d0722cbf982b729efdb">allegro_gl_set_allegro_mode</a> (void)</td></tr>
<tr class="memdesc:ga7ea7ffd9b72d0d0722cbf982b729efdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares for Allegro drawing to the screen.  <a href="#ga7ea7ffd9b72d0d0722cbf982b729efdb">More...</a><br /></td></tr>
<tr class="separator:ga7ea7ffd9b72d0d0722cbf982b729efdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00fbbee541046767114bf9746ceb6f8b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__allegro.html#ga00fbbee541046767114bf9746ceb6f8b">allegro_gl_unset_allegro_mode</a> (void)</td></tr>
<tr class="memdesc:ga00fbbee541046767114bf9746ceb6f8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restores previous OpenGL settings.  <a href="#ga00fbbee541046767114bf9746ceb6f8b">More...</a><br /></td></tr>
<tr class="separator:ga00fbbee541046767114bf9746ceb6f8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabaf6024e9d196da357aad02c5dc7589f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__allegro.html#gabaf6024e9d196da357aad02c5dc7589f">allegro_gl_set_projection</a> (void)</td></tr>
<tr class="memdesc:gabaf6024e9d196da357aad02c5dc7589f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares for Allegro drawing to the screen.  <a href="#gabaf6024e9d196da357aad02c5dc7589f">More...</a><br /></td></tr>
<tr class="separator:gabaf6024e9d196da357aad02c5dc7589f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga603f8f3719d02816acdf3dbdcaa1f447"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__allegro.html#ga603f8f3719d02816acdf3dbdcaa1f447">allegro_gl_unset_projection</a> (void)</td></tr>
<tr class="memdesc:ga603f8f3719d02816acdf3dbdcaa1f447"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restores previously saved projection.  <a href="#ga603f8f3719d02816acdf3dbdcaa1f447">More...</a><br /></td></tr>
<tr class="separator:ga603f8f3719d02816acdf3dbdcaa1f447"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga7ea7ffd9b72d0d0722cbf982b729efdb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void allegro_gl_set_allegro_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares for Allegro drawing to the screen. </p>
<p>Since AllegroGL actually calls OpenGL commands to perform Allegro functions for 2D drawing, some OpenGL capabilities may interfer with those operations In order to obtain the expected results, <a class="el" href="group__allegro.html#ga7ea7ffd9b72d0d0722cbf982b729efdb" title="Prepares for Allegro drawing to the screen. ">allegro_gl_set_allegro_mode()</a> must be called to disable the depth test, texturing, fog and lighting and set the view matrices to an appropriate state. Call <a class="el" href="group__allegro.html#ga00fbbee541046767114bf9746ceb6f8b" title="Restores previous OpenGL settings. ">allegro_gl_unset_allegro_mode()</a> to restore OpenGL in its previous state.</p>
<p>You should encapsulate all Allegro code dealing with the screen in between <a class="el" href="group__allegro.html#ga7ea7ffd9b72d0d0722cbf982b729efdb" title="Prepares for Allegro drawing to the screen. ">allegro_gl_set_allegro_mode()</a> and <a class="el" href="group__allegro.html#ga00fbbee541046767114bf9746ceb6f8b" title="Restores previous OpenGL settings. ">allegro_gl_unset_allegro_mode()</a>.</p>
<p>If you need to use regular OpenGL commands in between, you may do so, but you can get unexpected results. This is generally not recommended. You should first call <a class="el" href="group__allegro.html#ga00fbbee541046767114bf9746ceb6f8b" title="Restores previous OpenGL settings. ">allegro_gl_unset_allegro_mode()</a> to restore the original OpenGL matrices. After that, you may freely call any OpenGL command. Don't forget to call back <a class="el" href="group__allegro.html#ga7ea7ffd9b72d0d0722cbf982b729efdb" title="Prepares for Allegro drawing to the screen. ">allegro_gl_set_allegro_mode()</a> to switch back to Allegro commands.</p>
<p>AllegroGL saves the current OpenGL state with glPushAttrib so you should make sure that at least one level is available in the attribute stack otherwise the next call to <a class="el" href="group__allegro.html#ga00fbbee541046767114bf9746ceb6f8b" title="Restores previous OpenGL settings. ">allegro_gl_unset_allegro_mode()</a> may fail.</p>
<p>Also note that <a class="el" href="group__allegro.html#ga7ea7ffd9b72d0d0722cbf982b729efdb" title="Prepares for Allegro drawing to the screen. ">allegro_gl_set_allegro_mode()</a> implicitely calls <a class="el" href="group__allegro.html#gabaf6024e9d196da357aad02c5dc7589f" title="Prepares for Allegro drawing to the screen. ">allegro_gl_set_projection()</a> so you do not need to do it yourself.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__allegro.html#ga00fbbee541046767114bf9746ceb6f8b" title="Restores previous OpenGL settings. ">allegro_gl_unset_allegro_mode()</a> <a class="el" href="group__allegro.html#gabaf6024e9d196da357aad02c5dc7589f" title="Prepares for Allegro drawing to the screen. ">allegro_gl_set_projection()</a> </dd>
<dd>
<a class="el" href="group__allegro.html#ga603f8f3719d02816acdf3dbdcaa1f447" title="Restores previously saved projection. ">allegro_gl_unset_projection()</a> </dd></dl>

<p>Definition at line <a class="el" href="glvtable_8c_source.html#l02422">2422</a> of file <a class="el" href="glvtable_8c_source.html">glvtable.c</a>.</p>

<p>References <a class="el" href="glvtable_8c_source.html#l02540">allegro_gl_set_projection()</a>.</p>

<p>Referenced by <a class="el" href="gui_8c_source.html#l00058">algl_do_dialog()</a>, <a class="el" href="gui_8c_source.html#l00111">algl_popup_dialog()</a>, and <a class="el" href="gui_8c_source.html#l00477">d_algl_viewport_proc()</a>.</p>

</div>
</div>
<a class="anchor" id="ga00fbbee541046767114bf9746ceb6f8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void allegro_gl_unset_allegro_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restores previous OpenGL settings. </p>
<p>Restores the OpenGL state that have saved during the last call of <a class="el" href="group__allegro.html#ga7ea7ffd9b72d0d0722cbf982b729efdb" title="Prepares for Allegro drawing to the screen. ">allegro_gl_set_allegro_mode()</a>.</p>
<p>Note that allegro_gl_unset_allegro_mode implicitely calls <a class="el" href="group__allegro.html#ga603f8f3719d02816acdf3dbdcaa1f447" title="Restores previously saved projection. ">allegro_gl_unset_projection()</a> so you do not need to do it yourself.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__allegro.html#ga7ea7ffd9b72d0d0722cbf982b729efdb" title="Prepares for Allegro drawing to the screen. ">allegro_gl_set_allegro_mode()</a> <a class="el" href="group__allegro.html#gabaf6024e9d196da357aad02c5dc7589f" title="Prepares for Allegro drawing to the screen. ">allegro_gl_set_projection()</a> </dd>
<dd>
<a class="el" href="group__allegro.html#ga603f8f3719d02816acdf3dbdcaa1f447" title="Restores previously saved projection. ">allegro_gl_unset_projection()</a> </dd></dl>

<p>Definition at line <a class="el" href="glvtable_8c_source.html#l02491">2491</a> of file <a class="el" href="glvtable_8c_source.html">glvtable.c</a>.</p>

<p>References <a class="el" href="alleggl_8h_source.html#l00399">AGL_KEEP</a>, <a class="el" href="alleggl_8h_source.html#l00400">AGL_RELEASE</a>, and <a class="el" href="glvtable_8c_source.html#l02567">allegro_gl_unset_projection()</a>.</p>

<p>Referenced by <a class="el" href="gui_8c_source.html#l00058">algl_do_dialog()</a>, <a class="el" href="gui_8c_source.html#l00111">algl_popup_dialog()</a>, and <a class="el" href="gui_8c_source.html#l00477">d_algl_viewport_proc()</a>.</p>

</div>
</div>
<a class="anchor" id="gabaf6024e9d196da357aad02c5dc7589f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void allegro_gl_set_projection </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares for Allegro drawing to the screen. </p>
<p>This function sets the OpenGL projection and modelview matrices so that 2D OpenGL coordinates match the usual Allegro coordinate system.</p>
<p>OpenGL uses a completely different coordinate system than Allegro. So to be able to use Allegro operations on the screen, you first need to properly set up the OpenGL projection and modelview matrices. AllegroGL provides this set of functions to allow proper alignment of OpenGL coordinates with their Allegro counterparts.</p>
<p>Since AllegroGL actually calls OpenGL commands to perform Allegro functions for 2D drawing, some OpenGL capabilities such as texturing or depth testing may interfer with those operations. In order to prevent such inconveniences, you should call <a class="el" href="group__allegro.html#ga7ea7ffd9b72d0d0722cbf982b729efdb" title="Prepares for Allegro drawing to the screen. ">allegro_gl_set_allegro_mode()</a> instead of <a class="el" href="group__allegro.html#gabaf6024e9d196da357aad02c5dc7589f" title="Prepares for Allegro drawing to the screen. ">allegro_gl_set_projection()</a></p>
<p><a class="el" href="group__allegro.html#gabaf6024e9d196da357aad02c5dc7589f" title="Prepares for Allegro drawing to the screen. ">allegro_gl_set_projection()</a> and <a class="el" href="group__allegro.html#ga603f8f3719d02816acdf3dbdcaa1f447" title="Restores previously saved projection. ">allegro_gl_unset_projection()</a> are not nestable, which means that you should not call <a class="el" href="group__allegro.html#gabaf6024e9d196da357aad02c5dc7589f" title="Prepares for Allegro drawing to the screen. ">allegro_gl_set_projection()</a> inside another <a class="el" href="group__allegro.html#gabaf6024e9d196da357aad02c5dc7589f" title="Prepares for Allegro drawing to the screen. ">allegro_gl_set_projection()</a> block. Similarly for <a class="el" href="group__allegro.html#ga603f8f3719d02816acdf3dbdcaa1f447" title="Restores previously saved projection. ">allegro_gl_unset_projection()</a>.</p>
<p>Have a look at examp/exalleg.c for an example of combining Allegro drawing commands and OpenGL.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__allegro.html#ga603f8f3719d02816acdf3dbdcaa1f447" title="Restores previously saved projection. ">allegro_gl_unset_projection()</a> <a class="el" href="group__allegro.html#ga7ea7ffd9b72d0d0722cbf982b729efdb" title="Prepares for Allegro drawing to the screen. ">allegro_gl_set_allegro_mode()</a> </dd>
<dd>
<a class="el" href="group__allegro.html#ga00fbbee541046767114bf9746ceb6f8b" title="Restores previous OpenGL settings. ">allegro_gl_unset_allegro_mode()</a> </dd></dl>

<p>Definition at line <a class="el" href="glvtable_8c_source.html#l02540">2540</a> of file <a class="el" href="glvtable_8c_source.html">glvtable.c</a>.</p>

<p>Referenced by <a class="el" href="glvtable_8c_source.html#l02422">allegro_gl_set_allegro_mode()</a>.</p>

</div>
</div>
<a class="anchor" id="ga603f8f3719d02816acdf3dbdcaa1f447"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void allegro_gl_unset_projection </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restores previously saved projection. </p>
<p>This function returns the projection and modelview matrices to their state before the last <a class="el" href="group__allegro.html#gabaf6024e9d196da357aad02c5dc7589f" title="Prepares for Allegro drawing to the screen. ">allegro_gl_set_projection()</a> was called.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__allegro.html#gabaf6024e9d196da357aad02c5dc7589f" title="Prepares for Allegro drawing to the screen. ">allegro_gl_set_projection()</a> <a class="el" href="group__allegro.html#ga7ea7ffd9b72d0d0722cbf982b729efdb" title="Prepares for Allegro drawing to the screen. ">allegro_gl_set_allegro_mode()</a> </dd>
<dd>
<a class="el" href="group__allegro.html#ga00fbbee541046767114bf9746ceb6f8b" title="Restores previous OpenGL settings. ">allegro_gl_unset_allegro_mode()</a> </dd></dl>

<p>Definition at line <a class="el" href="glvtable_8c_source.html#l02567">2567</a> of file <a class="el" href="glvtable_8c_source.html">glvtable.c</a>.</p>

<p>References <a class="el" href="glvtable_8c_source.html#l00160">allegro_gl_screen_acquire()</a>, and <a class="el" href="glvtable_8c_source.html#l00170">allegro_gl_screen_release()</a>.</p>

<p>Referenced by <a class="el" href="glvtable_8c_source.html#l02491">allegro_gl_unset_allegro_mode()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
